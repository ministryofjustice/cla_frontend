# GitHub Actions Workflow: Lint
# 
# Purpose: Runs linting checks on pull requests to ensure code quality and style compliance
#
# Trigger: Automatically runs on all pull requests across any branch
#
# Permissions: 
#   - Minimal permissions set (empty root level)
#   - Job-level read access to repository contents only
#
# Environment:
#   - Runs on Ubuntu latest
#   - Uses Python 2.7.18 slim container image
#
# Jobs:
#   lint:
#     - Checks out the repository code
#     - Installs linting dependencies from requirements-lint.txt
#     - Runs Flake8 linter with exit-zero flag (reports issues without failing the workflow)
#
# Output: Flake8 linting report for cla_frontend package

name: Lint
run-name: Lint checks

on:
  pull_request:
    branches: ["**"]

permissions: {}

jobs:
  lint:
    permissions:
      contents: read

    name: Validate
    runs-on: ["ubuntu-latest"]
    container:
      image: python:2.7.18-slim

    steps:
      - name: Repository
        uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1

      - name: Requirements
        shell: bash
        working-directory: ./
        run: python -m pip install -r requirements/generated/requirements-lint.txt

      - name: Flake8
        shell: bash
        working-directory: ./
        run: python -m flake8 cla_frontend
